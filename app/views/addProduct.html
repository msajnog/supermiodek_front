<div class="container">
    <form id="addProductForm" name="addProductForm" ng-submit="saveProduct()" novalidate>
        <div class="row">
            <div class="col-xs-12 col-sm-6">
                <div class="form-group has-feedback" ng-class="{'has-error': addProductForm.name.$dirty && addProductForm.name.$error.required, 'has-success': addProductForm.name.$dirty && !addProductForm.name.$error.required}">
                    <label for="name" class="control-label">Nazwa<em>*</em></label>
                    <input id="name" type="text" ng-model="product.name" name="name" class="form-control" placeholder="Nazwa" required>
                    <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true" ng-show="addProductForm.name.$dirty && !addProductForm.name.$error.required"></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true" ng-show="addProductForm.name.$dirty && addProductForm.name.$error.required"></span>
                    <span class="error-msg" ng-show="addProductForm.name.$dirty && addProductForm.name.$error.required">To pole jest wymagane</span>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6">
                <div class="form-group has-feedback" ng-class="{'has-error': addProductForm.price.$dirty && addProductForm.price.$error.required, 'has-success': addProductForm.price.$dirty && !addProductForm.price.$error.required}">
                    <label for="price" class="control-label">Cena<em>*</em></label>
                    <input id="price" type="text" ng-model="product.price" name="price" class="form-control" placeholder="Cena" required>
                    <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true" ng-show="addProductForm.price.$dirty && !addProductForm.price.$error.required"></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true" ng-show="addProductForm.price.$dirty && addProductForm.price.$error.required"></span>
                    <span class="error-msg" ng-show="addProductForm.price.$dirty && addProductForm.price.$error.required">To pole jest wymagane</span>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-xs-12 col-sm-6">
                <div class="form-group has-feedback" ng-class="{'has-error': addProductForm.shortDescription.$dirty && addProductForm.shortDescription.$error.required, 'has-success': addProductForm.shortDescription.$dirty && !addProductForm.shortDescription.$error.required}">
                    <label for="shortDescription" class="control-label">Krótki opis<em>*</em></label>
                    <textarea id="shortDescription" ng-model="product.shortDescription" name="shortDescription" class="form-control" placeholder="Krótki opis" required></textarea>
                    <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true" ng-show="addProductForm.shortDescription.$dirty && !addProductForm.shortDescription.$error.required"></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true" ng-show="addProductForm.shortDescription.$dirty && addProductForm.shortDescription.$error.required"></span>
                    <span class="error-msg" ng-show="addProductForm.shortDescription.$dirty && addProductForm.shortDescription.$error.required">To pole jest wymagane</span>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6">
                <div class="form-group has-feedback" ng-class="{'has-error': addProductForm.description.$dirty && addProductForm.description.$error.required, 'has-success': addProductForm.description.$dirty && !addProductForm.description.$error.required}">
                    <label for="description" class="control-label">Opis<em>*</em></label>
                    <textarea id="description" ng-model="product.description" name="description" class="form-control" placeholder="Opis" required></textarea>
                    <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true" ng-show="addProductForm.description.$dirty && !addProductForm.description.$error.required"></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true" ng-show="addProductForm.description.$dirty && addProductForm.description.$error.required"></span>
                    <span class="error-msg" ng-show="addProductForm.description.$dirty && addProductForm.description.$error.required">To pole jest wymagane</span>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-xs-12">
                <div class="form-group has-feedback">
                    <label for="image" class="control-label">Zdjęcie<em>*</em></label>
                    <input id="image" type="file" ng-model="product.image" name="image" nv-file-select uploader="uploader" class="form-control" required>
                </div>
            </div>
            <div class="col-xs-12 upload-section">
                <table class="table">
                    <thead>
                        <tr>
                            <th width="50%">Nazwa</th>
                            <th ng-show="uploader.isHTML5">Rozmiar</th>
                            <th ng-show="uploader.isHTML5">Postęp</th>
                            <th>Status</th>
                            <th>Opcje</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in uploader.queue">
                            <td>
                                <strong>{{ item.file.name }}</strong><br><br>
                                <div ng-show="uploader.isHTML5" ng-thumb="{ file: item._file, height: 100 }"></div>
                            </td>
                            <td ng-show="uploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>
                            <td ng-show="uploader.isHTML5">
                                <div class="progress" style="margin-bottom: 0;">
                                    <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
                                </div>
                            </td>
                            <td class="text-center">
                                <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                                <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                                <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                            </td>
                            <td nowrap>
                                <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                    <span class="glyphicon glyphicon-upload"></span> Upload
                                </button>
                                <button type="button" class="btn btn-warning btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading">
                                    <span class="glyphicon glyphicon-ban-circle"></span> Anuluj
                                </button>
                                <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
                                    <span class="glyphicon glyphicon-trash"></span> Usuń
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div ng-show="0">
                    <div>
                        Queue progress:
                        <div class="progress" style="">
                            <div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }"></div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-success btn-s" ng-click="uploader.uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length">
                        <span class="glyphicon glyphicon-upload"></span> Upload all
                    </button>
                    <button type="button" class="btn btn-warning btn-s" ng-click="uploader.cancelAll()" ng-disabled="!uploader.isUploading">
                        <span class="glyphicon glyphicon-ban-circle"></span> Cancel all
                    </button>
                    <button type="button" class="btn btn-danger btn-s" ng-click="uploader.clearQueue()" ng-disabled="!uploader.queue.length">
                        <span class="glyphicon glyphicon-trash"></span> Remove all
                    </button>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-xs-12">
                <p class="bg-danger" ng-show="formInvalid">Wypełnij prawidłowo wszystkie wymagane pola</p>                
            </div>
            <div class="clearfix"></div>
            <div class="col-xs-12"><button type="submit" class="btn btn-primary">Zapisz</button></div>
        </div>
    </form>
</div>
